app:
  name: "Aula de Permissões"
  package: "br.techcoop.aula_permissoes"
  core_functions: "Demonstra fluxos de consentimento (câmera, localização FG, overlay) e conceitos dangerous/special/signature."
  audiences: "Estudantes/educadores"
  store_listing_urls: []
permissions_matrix:
  - feature: "Escanear QR"
    permission: "android.permission.CAMERA"
    type: "dangerous"
    data_or_action: "camera_stream"
    core_justification: "Escanear QR para autenticação"
    less_intrusive_alt: "Android Photo Picker"
    request_trigger: "Ao tocar 'Escanear QR'"
    consent_text: "Precisamos da câmera para escanear seu QR agora."
    fallback: "Selecionar imagem com QR"
    retention_use_share: "Sem retenção de imagem; só metadado do QR"
    play_console_requirements: "none"
    owner: "mobile_lead"
  - feature: "Mapa — minha posição"
    permission: "android.permission.ACCESS_FINE_LOCATION"
    type: "dangerous"
    data_or_action: "location_foreground"
    core_justification: "Mostrar posição atual no mapa"
    less_intrusive_alt: "Marcador manual"
    request_trigger: "Ao tocar 'Minha posição'"
    consent_text: "Para mostrar sua posição no mapa, precisamos da sua localização agora."
    fallback: "Digitar endereço"
    retention_use_share: "Não reter; sem compartilhamento"
    play_console_requirements: "none"
    owner: "po_produto"
  - feature: "Botão flutuante"
    permission: "SYSTEM_ALERT_WINDOW"
    type: "special_access"
    data_or_action: "overlay"
    core_justification: "Acesso rápido de acessibilidade"
    less_intrusive_alt: "Atalho por notificação"
    request_trigger: "Tela de configuração do recurso"
    consent_text: "Ative 'sobrepor outros apps' para mostrar o botão flutuante."
    fallback: "Atalho por notificação"
    retention_use_share: "—"
    play_console_requirements: "store_listing_disclosure"
    owner: "mobile_lead"
  - feature: "Exatos alarmes (se core)"
    permission: "USE_EXACT_ALARM / SCHEDULE_EXACT_ALARM"
    type: "special_access"
    data_or_action: "exact_alarms"
    core_justification: "Alarmes/Timers/Calendário (se função principal)"
    less_intrusive_alt: "Agendamento com janela"
    request_trigger: "Ao criar alarme"
    consent_text: "Para alertas no horário exato, precisamos de alarme exato."
    fallback: "Agendar janela aproximada"
    retention_use_share: "Sem retenção"
    play_console_requirements: "declaration_if_required"
    owner: "architect"
  - feature: "Arquivos amplos (evitar)"
    permission: "MANAGE_EXTERNAL_STORAGE"
    type: "highly_restricted"
    data_or_action: "all_files_access"
    core_justification: "Não essencial; evitar"
    less_intrusive_alt: "SAF/MediaStore/Photo Picker"
    request_trigger: "—"
    consent_text: "—"
    fallback: "—"
    retention_use_share: "—"
    play_console_requirements: "do_not_use"
    owner: "architect"
  - feature: "Alertas automáticos (BG) — se essencial"
    permission: "android.permission.ACCESS_BACKGROUND_LOCATION"
    type: "dangerous_bg"
    data_or_action: "location_background"
    core_justification: "Geofencing essencial"
    less_intrusive_alt: "FG + notificação manual"
    request_trigger: "Fluxo separado após FG"
    consent_text: "Para alertas automáticos, precisamos de localização em 2º plano."
    fallback: "Sem BG; alerta manual"
    retention_use_share: "Mínima; logs agregados"
    play_console_requirements: "declaration_form_required"
    owner: "po_legal"
  - feature: "Assinatura (didático)"
    permission: "signature-level (ex.: binds de serviços)"
    type: "signature"
    data_or_action: "—"
    core_justification: "Indisponível para apps de terceiros; fins educacionais"
    less_intrusive_alt: "—"
    request_trigger: "—"
    consent_text: "—"
    fallback: "—"
    retention_use_share: "—"
    play_console_requirements: "—"
    owner: "instrutor"
governance:
  dod_checklist:
    - manifest_minimal
    - contextual_request
    - less_intrusive_alt
    - fallback_ready
    - limited_use_min_retention
    - store_listing_aligned
    - play_console_declarations_done
    - test_matrix_passed
  review_cadence: "cada release"
  approvers:
    - security_lead
    - legal_compliance
    - product_owner
